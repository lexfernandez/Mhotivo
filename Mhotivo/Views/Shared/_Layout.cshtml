@using System.Activities.Statements
@using Mhotivo.Logic
@using Microsoft.Ajax.Utilities
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>@ViewBag.Title - Mhotivo</title>

		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!--basic styles-->
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/fullcalendar")
       

	    <link href="~/Content/themes/ace/bootstrap.min.css" rel="stylesheet" />
		<link href="~/Content/themes/ace/bootstrap.min.css" rel="stylesheet" />
		<link href="~/Content/themes/ace/bootstrap-responsive.min.css" rel="stylesheet" />
	    <link href="~/Content/themes/ace/font-awesome.min.css" rel="stylesheet" />
        
        @if (IsSectionDefined("AddToHead"))
        {
            @RenderSection("AddToHead", required: false)
        }

	    @Scripts.Render("~/bundles/modernizr")
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/jqueryui")
        
        <link href="~/Content/fullcalendar.css" rel="stylesheet" />
        <script src="~/Scripts/fullcalendar.js"></script>

	    <!--[if IE 7]>
		  <link rel="stylesheet" href="~/Content/themes/ace/font-awesome-ie7.min.css" />
		<![endif]-->

		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />

		<link rel="stylesheet" href="~/Content/themes/ace/ace.min.css" />
		<link rel="stylesheet" href="~/Content/themes/ace/ace-responsive.min.css" />
	    <link rel="stylesheet" href="~/Content/themes/ace/ace-skins.min.css" />
        <link rel="stylesheet" href="~/Content/themes/ace/colorbox.css" />

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>

	<body>
		<div class="navbar">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a href="#" class="brand">
						<small>
							Mhotivo
						</small>
					</a><!--/.brand-->

					<ul class="nav ace-nav pull-right">
					    
                        <li class="light-blue">
							<a data-toggle="dropdown" href="#" class="dropdown-toggle">
								<span class="user-info">
									<small>Welcome,</small>
								    @Html.Action("GetUserLoggedName", "Home")
								</span>

								<i class="icon-caret-down"></i>
							</a>

							<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-closer">
								<li>
									<a href="#">
										<i class="icon-cog"></i>
										Settings
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-user"></i>
										Profile
									</a>
								</li>

								<li class="divider"></li>

								<li>
									<a href="/Account/Logout">
										<i class="icon-off"></i>
										Logout
									</a>
								</li>
							</ul>
						</li>
					</ul><!--/.ace-nav-->
				</div><!--/.container-fluid-->
			</div><!--/.navbar-inner-->
		</div>

		<div class="main-container container-fluid">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>

			<div class="sidebar" id="sidebar">
			    @*<div class="sidebar-shortcuts" id="sidebar-shortcuts">
			         <div class="sidebar-shortcuts-large" id="sidebar-shortcuts-large">
			           <button class="btn btn-small btn-success">
			                <i class="icon-signal"></i>
			            </button>

			            <button class="btn btn-small btn-info">
			                <i class="icon-pencil"></i>
			            </button>

			            <button class="btn btn-small btn-warning">
			                <i class="icon-group"></i>
			            </button>

			            <button class="btn btn-small btn-danger">
			                <i class="icon-cogs"></i>
			            </button>
			        </div>

			        <div class="sidebar-shortcuts-mini" id="sidebar-shortcuts-mini">
			            <span class="btn btn-success"></span>

			            <span class="btn btn-info"></span>

			            <span class="btn btn-warning"></span>

			            <span class="btn btn-danger"></span>
			        </div>
			    </div>*@
                <!--#sidebar-shortcuts-->
                @Html.Partial("_Menu")
                <!--/.nav-list-->
				<div class="sidebar-collapse" id="sidebar-collapse">
					<i class="icon-double-angle-left"></i>
				</div>
			</div>

			<div class="main-content">
				<div class="breadcrumbs" id="breadcrumbs">
					<ul class="breadcrumb">
						<li>
							<i class="icon-home home-icon"></i>
							<a href="#">Home</a>

							<span class="divider">
								<i class="icon-angle-right arrow-icon"></i>
							</span>
						</li>

						<li>
							<a href="#">Other Pages</a>

							<span class="divider">
								<i class="icon-angle-right arrow-icon"></i>
							</span>
						</li>
						<li class="active">Blank Page</li>
					</ul><!--.breadcrumb-->

					<div class="nav-search" id="nav-search">
						<form class="form-search" >
							<span class="input-icon">
								<input type="text" placeholder="Search ..." class="input-small nav-search-input" id="nav-search-input" autocomplete="off" />
								<i class="icon-search nav-search-icon"></i>
							</span>
						</form>
					</div><!--#nav-search-->
				</div>

				@RenderSection("featured", required: false)
				<div class="page-content">
					<div class="row-fluid">
						<div class="span12">
							<!--PAGE CONTENT BEGINS-->
								@RenderBody()
							<!--PAGE CONTENT ENDS-->
						</div><!--/.span-->
					</div><!--/.row-fluid-->
				</div><!--/.page-content-->
			</div><!--/.main-content-->
		</div><!--/.main-container-->

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-small btn-inverse">
			<i class="icon-double-angle-up icon-only bigger-110"></i>
		</a>


		<script type="text/javascript">
		    if ("ontouchend" in document) document.write("<script src='~/Scripts/jquery.mobile.custom.min.js'>" + "<" + "/script>");
		</script>

        @RenderSection("Scripts", required: false)
	    <script src="~/Scripts/bootstrap.min.js"></script>
       

		<!--page specific plugin scripts-->

		<!--ace scripts-->

		<script src="~/Scripts/ace-elements.min.js"></script>
	    <script src="~/Scripts/ace.min.js"></script>
	    <script src="~/Scripts/bootbox.min.js"></script>
	    <script src="~/Scripts/jquery.colorbox-min.js"></script>
        
	    <script src="~/Scripts/bootstrap-datepicker.min.js"></script>
        <script src="~/Scripts/jquery.maskedinput.min.js"></script>

        
	    <script type="text/javascript">
    	    
    	    $(document).ready(function () {

    	        //start Edit
    	        $("a.toEdit").on("click", function (e) {
    	            var uri = $(this).attr("id");
    	            $.ajax({
    	                    type: "GET",
    	                    url: uri
    	                })
    	                .done(function (html) {
    	                    $("#body").replaceWith(html);
    	                });
    	        });
    	        //end edit

    	        //start Delete
    	        $("a.toDelete").on("click", function () {
    	            var uri = $(this).attr("id");
    	            var idMessage = "input[id*='" + uri + "_Message']";
    	            var idForm = "#Form_" + uri;
    	            var message = $(idMessage).val();
    	            bootbox.dialog(message,
    	                [
    	                    {
    	                        "label": "Cancelar",
    	                        "class": "btn-small"
    	                    },
    	                    {
    	                        "label": "Eliminar",
    	                        "class": "btn-small btn-danger",
    	                        "callback": function () {
    	                            $(idForm).submit();
    	                        }
    	                    }
    	                ]
    	            );
    	        }); //End of delete

    	        //start Question
    	        $("a.toQuestion").on("click", function () {
    	            var uri = $(this).attr("id");
    	            var idMessage = "input[id*='" + uri + "_Message']";
    	            var idForm = "#Form_" + uri;
    	            var message = $(idMessage).val();
    	            bootbox.dialog(message,
                        [
                           {
                               "label": "No",
                               "class": "btn-small"
                           },
                           {
                               "label": "Si",
                               "class": "btn-small btn-info",
                               "callback": function () {
                                   $(idForm).submit();
                               }
                           }
                        ]
                    );
    	        }); //End of Question

    	        //start Details
    	        $(document).ready(function () {
    	            $('.toDetails').on("click", function () {
    	                var pathArray = location.pathname.split('/');
    	                var appPath = "/";
    	                for (var i = 1; i < pathArray.length - 1; i++) {
    	                    appPath += pathArray[i] + "/";
    	                }
    	                var id = appPath + $(this).attr('data-id');
    	                id = id.replace("Student/Student/", "Student/");
    	                id = id.replace("student/Student/", "Student/");
    	                id = id.replace("Parent/Parent/", "Parent/");
    	                id = id.replace("parent/Parent/", "Parent/");
    	                id = id.replace("Benefactor/Benefactor/", "Benefactor/");
    	                id = id.replace("benefactor/Benefactor/", "Benefactor/");
    	                id = id.replace("Meister/Meister/", "Meister/");
    	                id = id.replace("meister/Meister/", "Meister/");
    	                window.location = id;
    	            })
    	        });
    	        //end details

    	        //start Add
    	        $(document).ready(function () {
    	            $('.toAdd').on("click", function () {
    	                var pathArray = location.pathname.split('/');
    	                var appPath = "/";
    	                for (var i = 1; i < pathArray.length - 1; i++) {
    	                    appPath += pathArray[i] + "/";
    	                }
    	                var id = appPath + $(this).attr('data-id');
    	                id = id.replace("Student/Student/", "Student/");
    	                id = id.replace("student/Student/", "Student/");
    	                id = id.replace("Parent/Parent/", "Parent/");
    	                id = id.replace("parent/Parent/", "Parent/");
    	                id = id.replace("Benefactor/Benefactor/", "Benefactor/");
    	                id = id.replace("benefactor/Benefactor/", "Benefactor/");
    	                id = id.replace("Meister/Meister/", "Meister/");
    	                id = id.replace("meister/Meister/", "Meister/");
    	                window.location = id;
    	            })
    	        });
    	        //end Add

    	        $('#Form').on("submit",function (e) {
    	            alert(form.attr('action') + form.serialize());
    	            $.post(form.attr('action'),form.serialize());
    	            return false;
    	        });

    	    });

    	    $(document).ready(function () {

	           $('.date-picker').datepicker().on('changeDate', function () {
	                $(this).datepicker('hide');
	            });

	            $('.date-picker2').datepicker().on('changeDate', function () {
	                $(this).datepicker('hide');
	            });

	        });

    	    /*$(function () {
    	        $('.date-picker').datepicker().next().on(ace.click_event, function () { $(this).prev().focus(); });
    	    });*/

    	    $.mask.definitions['~'] = '[+-]';
/*$('.input-mask-date').mask('99/99/9999');
/$('.input-mask-phone').mask('(999) 999-9999');
$('.input-mask-eyescript').mask('~9.99 ~9.99 999');
$(".input-mask-product").mask("a*-999-a999", { placeholder: " ", completed: function () { alert("You typed the following: " + this.val()); } });
*/
    	    $('.input-mask-idNumber').mask('9999-9999-99999');

    	</script>
	    <!--inline scripts related to this page-->
	</body>
</html>
